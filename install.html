
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Installation &#8212; DCore 1.0.0 documentation</title>
    <link rel="stylesheet" href="_static/triqs.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/dcore.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Documentation" href="documentation.html" />
    <link rel="prev" title="DCore" href="index.html" />
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'>
    <script src="_static/cufon-yui.js" type="text/javascript"></script>
    <script src="_static/spaceman.cufonfonts.js" type="text/javascript"></script>
    <script type="text/javascript">
      Cufon.replace('.triqs', { fontFamily: 'spaceman', hover: true }); 
    </script>
 
    <style type="text/css">
      table.right { float: right; margin-left: 20px; }
      table.right td { border: 1px solid #ccc; }
      
    </style>

  </head><body>
<div class="pageheader">
  <ul>
    
    <li><a href="#">Install</a></li>
    
    <li><a href="documentation.html">Documentation</a></li>
    
    <li><a href="presentation.html">Presentatation</a></li>
    
    <li><a href="issues.html">Issues</a></li>
    
    <li><a href="about.html">About DCore</a></li>
    
  </ul>
  <div>
    <h1 style="padding:0; margin: 10px 0 0 0;"><a class="triqs" href="index.html">DCore</a></h1>
    <span style="font-size: 14px; margin: 0px; padding: 0px;">integrated DMFT software for CORrelated Electrons</span>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="documentation.html" title="Documentation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="DCore"
             accesskey="P">previous</a> |</li>
    <li><a href="index.html">Home</a> &raquo;</li>
 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Installation</a><ul>
<li><a class="reference internal" href="#download">Download</a></li>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#installation-steps">Installation steps</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">DCore</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="documentation.html"
                        title="next chapter">Documentation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/install.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="installation">
<span id="id1"></span><h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="download">
<h2>Download<a class="headerlink" href="#download" title="Permalink to this headline">¶</a></h2>
<p>You can download the source files in two ways.</p>
<ul>
<li><p class="first"><strong>[Release version]</strong></p>
<p>Go to the <a class="reference external" href="https://github.com/issp-center-dev/DCore/releases">release page</a> and download the latest tar or zip file.
You can unpack, for example, the tar file by</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ tar zxvf v1.x.x.tar.gz
</pre></div>
</div>
</li>
<li><p class="first"><strong>[Develop version]</strong></p>
<p>Newly implemented features are available in the source code in GitHub repository. You can clone the repository by</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git clone https://github.com/issp-center-dev/DCore.git dcore.src
</pre></div>
</div>
<p>The master branch basically corresponds to the latest released package, and the develop branch includes new features. Note that the develop branch may not be well tested and contains some bugs.</p>
</li>
</ul>
</div>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first"><strong>[mandatory]</strong> <code class="docutils literal notranslate"><span class="pre">DCore</span></code> is implemented using <a class="reference external" href="https://triqs.github.io/triqs/master/index.html#welcome" title="(in TRIQS v2.0.103)"><span class="xref std std-ref">TRIQS</span></a> library.
You first need to install <code class="docutils literal notranslate"><span class="pre">TRIQS</span></code> library prior to installing all other programs.
In the following, we suppose that <code class="docutils literal notranslate"><span class="pre">TRIQS</span></code> is installed in directory <em>path_to_triqs</em>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">DCore</span></code> supports <code class="docutils literal notranslate"><span class="pre">TRIQS</span></code> version <strong>1.4.2</strong> (the current version 2.0 is not supported).
Since the installation manual in <a class="reference external" href="https://triqs.github.io/triqs/master/index.html#welcome" title="(in TRIQS v2.0.103)"><span class="xref std std-ref">TRIQS</span></a> is not compatible with <strong>1.4.2</strong>, we briefly describe below how to install it.</p>
<ol class="last arabic">
<li><p class="first">You can download the zip file or tar file from <a class="reference external" href="https://github.com/TRIQS/triqs/releases/tag/1.4.2">https://github.com/TRIQS/triqs/releases/tag/1.4.2</a>.
The version <strong>1.4.2</strong> is not compatible with the latest version of h5py (&gt;=2.8.0).
If you encounter any problem, you can clone the repository and checkout <strong>1.4.x</strong> branch, which contains bug fixes.
We suppose that source files are located in <em>path_to_triqs_src</em> directory.</p>
</li>
<li><p class="first">In an empty directory, type the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ cmake -DCMAKE_INSTALL_PREFIX<span class="o">=</span>path_to_triqs path_to_triqs_src
$ make
$ make <span class="nb">test</span>
$ make install
</pre></div>
</div>
</li>
</ol>
</div>
</li>
<li><p class="first"><strong>[mandatory]</strong>
You also need <a class="reference external" href="https://triqs.github.io/dft_tools/master/index.html#dft" title="(in TRIQS DFTTools v1.5.44)"><span class="xref std std-ref">DFTTools</span></a>, which runs on the <code class="docutils literal notranslate"><span class="pre">TRIQS</span></code> library.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The current version in the GitHub repository is not compatible with <code class="docutils literal notranslate"><span class="pre">TRIQS</span></code> version 1.4.2.
You need to get old code that is compatible with 1.4.2.</p>
<ol class="last arabic">
<li><p class="first">Clone the repository, and checkout commit <strong>d005756</strong>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git clone git@github.com:TRIQS/dft_tools.git
$ <span class="nb">cd</span> dft_tools
$ git checkout d005756
</pre></div>
</div>
</li>
<li><p class="first">To build the source files, make an empty directory, move into it, and then type the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ cmake -DCMAKE_INSTALL_PREFIX<span class="o">=</span>path_to_triqs<span class="se">\</span>
  -DTRIQS_PATH<span class="o">=</span>path_to_triqs path_to_dft_tools
$ make
$ make <span class="nb">test</span>
$ make install
</pre></div>
</div>
</li>
</ol>
</div>
</li>
<li><p class="first"><strong>[optional]</strong> You will also need at least one impurity solver.
At present, <code class="docutils literal notranslate"><span class="pre">DCore</span></code> supports the following programs:</p>
<ul class="simple">
<li><a class="reference external" href="https://triqs.ipht.cnrs.fr/1.x/applications/hubbardI/">Hubbard-I solver</a></li>
<li><a class="reference external" href="https://triqs.ipht.cnrs.fr/applications/cthyb/index.html">TRIQS/cthyb</a>
[Note: checkout tag <strong>1.4.2</strong> on master branch, or download the released package from <a class="reference external" href="https://github.com/TRIQS/cthyb/releases/tag/1.4.2">here</a>]</li>
<li><a class="reference external" href="https://github.com/ALPSCore/CT-HYB">ALPSCore/CT-HYB</a> + <a class="reference external" href="https://github.com/shinaoka/triqs_interface">triqs_interface</a></li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If you want to treat the spin-orbit coupling in <code class="docutils literal notranslate"><span class="pre">TRIQS/cthyb</span></code> solver,
it must be built with the following CMake options:</p>
<div class="last highlight-bash notranslate"><div class="highlight"><pre><span></span>-DHYBRIDISATION_IS_COMPLEX<span class="o">=</span>ON -DLOCAL_HAMILTONIAN_IS_COMPLEX<span class="o">=</span>ON
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">One must build ALPSCore, TRIQS, TRIQS/DFTTools, and other solvers with the same C++ compiler and the same C++ standard (C++14).</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>ALPSCore/CT-HYB is a standalone program with an interface based on text and HDF5 files.
“triqs_interface” is a TRIQS-compatible Python interface of <code class="docutils literal notranslate"><span class="pre">ALPSCore/CT-HYB</span></code>.
This allows to use this impurity solver transparently from DCore (built with TRIQS python architecture).
The main developer of <code class="docutils literal notranslate"><span class="pre">ALPSCore/CT-HYB</span></code>, H. Shinaoka, is one of the developers of DCore.</p>
<p class="last">Both of <code class="docutils literal notranslate"><span class="pre">ALPSCore/CT-HYB</span></code> and <code class="docutils literal notranslate"><span class="pre">TRIQS/cthyb</span></code> implement the hybridization-expansion continuous-time quantum Monte Carlo method.
The main difference is the reliability of measurement of the single-particle Green’s function.
ALPSCore/CT-HYB uses a more elaborate algorithm (worm sampling).
The non-worm conventional sampling, which is implemented in <code class="docutils literal notranslate"><span class="pre">TRIQS/cthyb</span></code>,
may give wrong results in some situations (e.g. SOI coupling with orbital-diagonal bath).</p>
</div>
</li>
</ol>
</div>
<div class="section" id="installation-steps">
<h2>Installation steps<a class="headerlink" href="#installation-steps" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Create an empty directory where you will compile the code</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ mkdir dcore.build <span class="o">&amp;&amp;</span> <span class="nb">cd</span> dcore.build
</pre></div>
</div>
</li>
<li><p class="first">In the build directory, call cmake command with an option to specify the path to TRIQS library</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ cmake -DTRIQS_PATH<span class="o">=</span>path_to_triqs path_to_dcore_src
</pre></div>
</div>
<p>Here, <em>path_to_triqs</em> refers to your <code class="docutils literal notranslate"><span class="pre">TRIQS</span></code> install directory, and <em>path_to_dcore_src</em> refers to the <code class="docutils literal notranslate"><span class="pre">DCore</span></code> source directory.
If the cmake command succeeded, you will see the following message</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>-- Build files have been written to: /.../dcore.build
</pre></div>
</div>
</li>
<li><p class="first">Compile the code by</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ make
</pre></div>
</div>
</li>
<li><p class="first">We recommend that you run the tests to check if the compiling is properly finished. Type</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ make <span class="nb">test</span>
</pre></div>
</div>
<p>The test results look like</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Running tests...
Test project /Users/k-yoshimi/CLionProjects/DCore/build
      Start  <span class="m">1</span>: typed_parser
 <span class="m">1</span>/21 Test  <span class="c1">#1: typed_parser .....................   Passed    0.62 sec</span>
      Start  <span class="m">2</span>: openmx
 <span class="m">2</span>/21 Test  <span class="c1">#2: openmx ...........................   Passed    0.66 sec</span>
      Start  <span class="m">3</span>: respack
 <span class="m">3</span>/21 Test  <span class="c1">#3: respack ..........................   Passed    0.64 sec</span>
      Start  <span class="m">4</span>: pre_preset
 <span class="m">4</span>/21 Test  <span class="c1">#4: pre_preset .......................   Passed    0.91 sec</span>
      Start  <span class="m">5</span>: pre_wannier
 <span class="m">5</span>/21 Test  <span class="c1">#5: pre_wannier ......................   Passed    2.42 sec</span>
      Start  <span class="m">6</span>: pre_wannier_so
 <span class="m">6</span>/21 Test  <span class="c1">#6: pre_wannier_so ...................   Passed    0.77 sec</span>
      Start  <span class="m">7</span>: pre_respack
 <span class="m">7</span>/21 Test  <span class="c1">#7: pre_respack ......................   Passed    0.86 sec</span>
      Start  <span class="m">8</span>: pre_respack_so
 <span class="m">8</span>/21 Test  <span class="c1">#8: pre_respack_so ...................   Passed    0.75 sec</span>
      Start  <span class="m">9</span>: main_chain_hubbardI
 <span class="m">9</span>/21 Test  <span class="c1">#9: main_chain_hubbardI ..............   Passed    2.92 sec</span>
      Start <span class="m">10</span>: main_chain_hubbardI_so
<span class="m">10</span>/21 Test <span class="c1">#10: main_chain_hubbardI_so ...........   Passed    3.51 sec</span>
      Start <span class="m">11</span>: main_chain_triqsqmc
<span class="m">11</span>/21 Test <span class="c1">#11: main_chain_triqsqmc ..............***Failed    0.70 sec</span>
      Start <span class="m">12</span>: main_chain_triqsqmc_so
<span class="m">12</span>/21 Test <span class="c1">#12: main_chain_triqsqmc_so ...........***Failed    0.68 sec</span>
      Start <span class="m">13</span>: check_chain_hubbardI
<span class="m">13</span>/21 Test <span class="c1">#13: check_chain_hubbardI .............   Passed    1.49 sec</span>
      Start <span class="m">14</span>: check_chain_hubbardI_so
<span class="m">14</span>/21 Test <span class="c1">#14: check_chain_hubbardI_so ..........   Passed    1.48 sec</span>
      Start <span class="m">15</span>: check_chain_triqsqmc
<span class="m">15</span>/21 Test <span class="c1">#15: check_chain_triqsqmc .............***Failed    0.74 sec</span>
      Start <span class="m">16</span>: check_chain_triqsqmc_so
<span class="m">16</span>/21 Test <span class="c1">#16: check_chain_triqsqmc_so ..........***Failed    0.76 sec</span>
      Start <span class="m">17</span>: check_chain_alpsqmc
<span class="m">17</span>/21 Test <span class="c1">#17: check_chain_alpsqmc ..............***Failed    0.73 sec</span>
      Start <span class="m">18</span>: post_chain_hubbardI
<span class="m">18</span>/21 Test <span class="c1">#18: post_chain_hubbardI ..............   Passed    2.28 sec</span>
      Start <span class="m">19</span>: post_chain_hubbardI_so
<span class="m">19</span>/21 Test <span class="c1">#19: post_chain_hubbardI_so ...........   Passed    2.18 sec</span>
      Start <span class="m">20</span>: post_chain_triqsqmc
<span class="m">20</span>/21 Test <span class="c1">#20: post_chain_triqsqmc ..............***Failed    0.71 sec</span>
      Start <span class="m">21</span>: post_chain_triqsqmc_so
<span class="m">21</span>/21 Test <span class="c1">#21: post_chain_triqsqmc_so ...........***Failed    0.72 sec</span>

<span class="m">67</span>% tests passed, <span class="m">7</span> tests failed out of <span class="m">21</span>

Total Test <span class="nb">time</span> <span class="o">(</span>real<span class="o">)</span> <span class="o">=</span>  <span class="m">26</span>.56 sec

The following tests FAILED:
    <span class="m">11</span> - main_chain_triqsqmc <span class="o">(</span>Failed<span class="o">)</span>
    <span class="m">12</span> - main_chain_triqsqmc_so <span class="o">(</span>Failed<span class="o">)</span>
    <span class="m">15</span> - check_chain_triqsqmc <span class="o">(</span>Failed<span class="o">)</span>
    <span class="m">16</span> - check_chain_triqsqmc_so <span class="o">(</span>Failed<span class="o">)</span>
    <span class="m">17</span> - check_chain_alpsqmc <span class="o">(</span>Failed<span class="o">)</span>
    <span class="m">20</span> - post_chain_triqsqmc <span class="o">(</span>Failed<span class="o">)</span>
    <span class="m">21</span> - post_chain_triqsqmc_so <span class="o">(</span>Failed<span class="o">)</span>
</pre></div>
</div>
<p>In the above example, all tests related to QMC are failed, because only the Hubbard-I solver is installed. The tests from 1 to 8 should be passed regardless of impurity solvers you installed.</p>
</li>
<li><p class="first">Finally, install by</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ make install
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">DCore</span></code> is installed in the directory <em>path_to_triqs</em>.</p>
</li>
</ol>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="documentation.html" title="Documentation"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="DCore"
             >previous</a> |</li>
    <li><a href="index.html">Home</a> &raquo;</li>
 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, The University of Tokyo.
    </div>
  </body>
</html>